from typing import List,Dict,NamedTuple
import math

class Asteroid(NamedTuple):
    x:int
    y:int

asteroids = List[Asteroid]


def all_unique_slopes (asteroids: asteroids, station : Asteroid)->int:
    slopes = set()   
    for asteriod in asteroids:
        x_diff = asteriod.x - station.x
        y_diff = asteriod.y - station.y
        gcd = math.gcd(x_diff,y_diff)

        if y_diff == x_diff == 0:
            pass
        else:
            slopes.add((y_diff/gcd,x_diff/gcd))
    return len(slopes)



def take_input (input: str)->asteroids:
    return [Asteroid(x,y) for y, line in enumerate(input.strip().split("\n")) for x,c in enumerate(line) if c =='#']

input = """#....#.....#...#.#.....#.#..#....#
#..#..##...#......#.....#..###.#.#
#......#.#.#.....##....#.#.....#..
..#.#...#.......#.##..#...........
.##..#...##......##.#.#...........
.....#.#..##...#..##.....#...#.##.
....#.##.##.#....###.#........####
..#....#..####........##.........#
..#...#......#.#..#..#.#.##......#
.............#.#....##.......#...#
.#.#..##.#.#.#.#.......#.....#....
.....##.###..#.....#.#..###.....##
.....#...#.#.#......#.#....##.....
##.#.....#...#....#...#..#....#.#.
..#.............###.#.##....#.#...
..##.#.........#.##.####.........#
##.#...###....#..#...###..##..#..#
.........#.#.....#........#.......
#.......#..#.#.#..##.....#.#.....#
..#....#....#.#.##......#..#.###..
......##.##.##...#...##.#...###...
.#.....#...#........#....#.###....
.#.#.#..#............#..........#.
..##.....#....#....##..#.#.......#
..##.....#.#......................
.#..#...#....#.#.....#.........#..
........#.............#.#.........
#...#.#......#.##....#...#.#.#...#
.#.....#.#.....#.....#.#.##......#
..##....#.....#.....#....#.##..#..
#..###.#.#....#......#...#........
..#......#..#....##...#.#.#...#..#
.#.##.#.#.....#..#..#........##...
....#...##.##.##......#..#..##...."""

ASTERIODS = take_input(input)
c =[]
for asteriod in ASTERIODS:
    c.append([asteriod, all_unique_slopes(ASTERIODS,asteriod)])


# print(c)

print(max(c, key= lambda pair:pair[1]))

